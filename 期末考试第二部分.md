# 期末考试第二部分  
## 一、find_name_value函数  
1. 功能描述：  
find_name_value函数用于解析并分离数据文件名称中的变量名和对应的数值。用户调用find_name_value函数，输入代表文件名的字符串，函数将返回一个元组（name,value）  
2. 设置测试用例：  
   
   1.1 **标准正数**  
   ```python  
   assert find_name_value('temorary0.1') == ('temporary', 0.1)  
   ```  
   1.2 **标准负数**  
   ```python  
   assert find_name_value('melody0.5n') == ('melody', -0.5)
   ```  
   1.3 **无符号整数**  
   ```python  
   assert find_name_value('temp2010') == ('temp', 2010)  
   ```
   1.4 **带符号正数**  
   ```python  
   assert find_name_value('tp+0.2') == ('tp', 0.2)  
   ```
   1.5 **带符号负数**  
   ```python
   assert find_name_value('tp-0.1') == ('tp', -0.1) 
   ```
   2.1 **纯变量名，无数字**  
   ```python
   assert find_name_value('tanpeng') == ('tanpeng', None)
   ```
   2.2 **小数点开头的数字**  
   ```python
   assert find_name_value('rongrui.2010') == ('rongrui', 0.2010)
   ```
   2.3 **数值为零**  
   ```python
   assert find_name_value('life0') == ('life', 0.0)  
   ```
   3.1 **空字符串** 
   ```python
   assert find_name_value('') == ('', None)
   ```
   3.2 **文件名以数字开头**
   ```python 
   assert find_name_value('123value') == ('123value', None)
   ```
3. 利用函数找到目标文件名的值  
   1. 'phi0.1 xN14.2 kappa0.5n'  
   ```python
   print(find_name_value('phi0.1 xN14.2 kappa0.5n'))
   ('phi', 0.1)
   ```
   2. 'a1_b14n_n0_c02'
   ```python
   ('a', 1.0)
   ```
## 二、用Matlab作图
1. **Matlab代码**
   ```matlab
   % 环面参数
   R = 3; % 大圆半径
   r = 1; % 小圆半径

   % 定义参数范围
   theta = linspace(0, 2*pi, 100); % 小圆的角度范围
   phi = linspace(0, 2*pi, 100);   % 大圆的角度范围

   % 创建网格
   [Theta, Phi] = meshgrid(theta, phi);

   % 计算 x, y, z 坐标
   X = (R + r * cos(Theta)) .* cos(Phi);
   Y = (R + r * cos(Theta)) .* sin(Phi);
   Z = r * sin(Theta);

   % 绘制环面
   figure;
   surf(X, Y, Z);

   % 图像美化
   shading interp;       % 插值填充
   colormap jet;         % 颜色映射
   axis equal;           % 等比例坐标
   title('环面（Torus）的三维图像');
   xlabel('X');
   ylabel('Y');
   zlabel('Z');  
   ```
   ! 结果图(https://users/desktop/结果图.fig)
## 三、用Mathematica求值
1. **求无穷级数的和**
   \[
\sum_{n=1}^\infty \frac{1}{n^3 + n^2}
\]

   ```mathematica
   Sum[1/(n^3 + n^2), n, 1, Infinity{}]
   ```
   结果为：
   \[
\frac{\pi^2}{6} - 1 \approx 0.644934
\]
1. **求定积分的值** 
   \[
\int_{0}^{\infty} \frac{\sqrt{x} \ln x}{(x + 1)^2} \, dx
\]
   ```mathematica
   Integrate[Sqrt[x] * Log[x] / (x+1)^2, {x, 0, Infinity}]    
   ```
   结果为：
   \[
-\frac{\pi}{4} \approx -0.785398
\]
## 四、用markdown写出文本内容
 **Q:** Find the solution of the following equation with respect to \(\theta\):

**A**:
\[
A \cos \theta + B \sin \theta + C = 0
\]

 let \(x_1 = \cos \theta\) and \(x_2 = \sin \theta\), then the solution is given by the intersection of the circle and the line:

\[
x_1^2 + x_2^2 = 1
\]

\[
A x_1 + B x_2 + C = 0
\]

We reformulate the equations in a parametric form:

\[
|x|^2 = 1
\]

\[
x(t) = a + t b
\]

where \(x = (x_1, x_2)\), \(a = (0, -C / B)\), \(b = (-C / A, C / B)\), and \(t\) is a parameter. The intersection points satisfy the following equation:

\[
|a + t b|^2 = 1
\]
which can be solved for \(t\) to find the intersection points:

\[
t_{1,2} = \frac{-a \cdot b \pm \sqrt{(a \cdot b)^2 - |b|^2 (|a|^2 - 1)}}{|b|^2}
\]